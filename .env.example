# 小金库 Golden Nest 环境配置示例
# 复制此文件为 .env 并修改配置

# JWT 密钥（生产环境必须修改！）
# 可使用以下命令生成：openssl rand -hex 32
SECRET_KEY=your-super-secret-key-please-change-in-production

# 加密密钥（用于敏感数据加密，如Webhook URL）
# ⚠️ 生产环境必须配置！密钥丢失将无法解密数据
# 生成方法：python -m app.core.encryption
ENCRYPTION_KEY=hpjsMiHGCFSt9jmQBhjOQYwQYxCV0kFMHNSNmKf7ksM=

# Token 过期时间（分钟），默认 7 天
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# AI 能力配置（兼容 OpenAI 格式，支持通义千问/DeepSeek/OpenAI 等）
# 用于图片识别、智能分析等 AI 功能
# 获取通义千问 API Key: https://help.aliyun.com/zh/model-studio/get-api-key
AI_API_KEY=sk-your-api-key
AI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
AI_MODEL=qwen-vl-plus

# OpenClaw Gateway
OPENCLAW_GATEWAY_TOKEN=<生成一个随机 token: openssl rand -hex 32>

# ==================== 设计院 (Studio) ====================
# 设计院是通用的 AI 辅助项目设计工具，可独立部署或嵌入任意项目
# 以下所有配置均为可选，留空则禁用对应功能

# ── 认证配置 ──
# 管理员账号（首次部署自动生成密码，建议手动设置）
STUDIO_ADMIN_USER=admin
STUDIO_ADMIN_PASS=change-me-later
# JWT 签名密钥（留空自动生成，设置后 token 在重启后仍有效）
# 生成方法: openssl rand -hex 32
STUDIO_SECRET_KEY=
# Token 过期天数，默认 7
STUDIO_TOKEN_EXPIRE_DAYS=7

# ── SSO 单点登录 (可选) ──
# 主项目 API 地址，用于验证主项目 JWT token 实现免登录
# 留空则禁用 SSO，仅支持管理员/注册用户登录
# 示例: http://your-backend:8000
MAIN_API_URL=
# 主项目存储 JWT 的 localStorage key 名称 (默认 "token")
# 需与主项目前端对应: localStorage.setItem(SSO_TOKEN_KEY, jwt)
SSO_TOKEN_KEY=token

# ── Git / VCS 配置 (可选) ──
# GitHub 集成 — 用于 Issue 创建、PR 合并、Copilot Agent 等
# 留空则禁用所有 GitHub 相关功能 (创建实施任务、查看 PR 等)
GITHUB_TOKEN=ghp_your-github-personal-access-token
GITHUB_REPO=owner/repo
# 通用 Git 仓库克隆 URL — 支持 GitLab/Gitea/Gitee/自建 Git 等
# 设置后优先于 GITHUB_REPO 用于克隆操作，支持 HTTPS/SSH 格式
# 示例: https://gitlab.example.com/org/repo.git 或 git@gitee.com:org/repo.git
# 留空时回退到使用 GITHUB_REPO 构造 GitHub URL
GIT_CLONE_URL=
# GitHub Copilot API Key (用于 Copilot Coding Agent 集成)
COPILOT_API_KEY=

# ── 部署流水线配置 (可选) ──
# 部署目标 Docker Compose 服务列表 (逗号分隔)
# 示例: frontend,backend
DEPLOY_SERVICES=
# git pull 时使用的分支名, 默认 master
DEPLOY_GIT_BRANCH=master
# 部署后健康检查端点 (分号分隔, 格式: name=url)
# 示例: backend=http://backend:8000/api/health;frontend=http://frontend:80
DEPLOY_HEALTH_CHECKS=
# Docker 镜像前缀 (用于快照中记录镜像 tag)
# 示例: myproject
DOCKER_IMAGE_PREFIX=

# ── 快照配置 (可选) ──
# 快照时需要备份的数据库文件路径 (逗号分隔, 相对于 workspace)
# 示例: data/mydb.db,data/other.db
SNAPSHOT_DB_PATHS=
