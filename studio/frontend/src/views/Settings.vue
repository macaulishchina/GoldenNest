<template>
  <div>
    <n-h3>‚öôÔ∏è ËÆæÁΩÆ</n-h3>

    <n-tabs type="line" animated :value="activeTab" @update:value="activeTab = $event">
      <n-tab-pane name="ai" tab="ü§ñ AI ÈÖçÁΩÆ">
        <n-tabs
          type="segment"
          animated
          size="small"
          :value="aiSubTab"
          @update:value="aiSubTab = $event"
          style="margin-bottom: 16px"
        >
          <n-tab-pane name="providers" tab="üîå ÊúçÂä°Êèê‰æõÂïÜ">
            <AIServiceSettings />
          </n-tab-pane>
          <n-tab-pane name="preferences" tab="‚öôÔ∏è ‰ΩøÁî®ÂÅèÂ•Ω">
            <AIPreferences />
          </n-tab-pane>
          <n-tab-pane name="models" tab="üìä Ê®°ÂûãÁÆ°ÁêÜ">
            <ModelSettings />
          </n-tab-pane>
        </n-tabs>
      </n-tab-pane>
      <n-tab-pane name="system" tab="üñ•Ô∏è Á≥ªÁªü‰∏éÊé•Âè£">
        <SystemSettings />
      </n-tab-pane>
      <n-tab-pane name="skills" tab="üéØ ÊäÄËÉΩÁÆ°ÁêÜ">
        <SkillSettings />
      </n-tab-pane>
      <n-tab-pane name="tools" tab="üîß Â∑•ÂÖ∑ÁÆ°ÁêÜ">
        <ToolSettings />
      </n-tab-pane>
      <n-tab-pane name="command-auth" tab="üîí ÂëΩ‰ª§ÊéàÊùÉ">
        <CommandAuthSettings />
      </n-tab-pane>
      <n-tab-pane name="workflows" tab="üîÑ Â∑•‰ΩúÊµÅ">
        <WorkflowSettings />
      </n-tab-pane>
      <n-tab-pane v-if="authStore.isAdmin" name="users" tab="üë• Áî®Êà∑ÁÆ°ÁêÜ">
        <UserManagement />
      </n-tab-pane>
    </n-tabs>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { useAuthStore } from '@/stores/auth'
import AIServiceSettings from './settings/AIServiceSettings.vue'
import AIPreferences from './settings/AIPreferences.vue'
import ModelSettings from './settings/ModelSettings.vue'
import SystemSettings from './settings/SystemSettings.vue'
import SkillSettings from './settings/SkillSettings.vue'
import ToolSettings from './settings/ToolSettings.vue'
import WorkflowSettings from './settings/WorkflowSettings.vue'
import CommandAuthSettings from './settings/CommandAuthSettings.vue'
import UserManagement from './settings/UserManagement.vue'

const authStore = useAuthStore()
const activeTab = ref('ai')
const aiSubTab = ref('providers')
</script>

<style>
.cap-row-override td {
  background: rgba(64, 152, 252, 0.08) !important;
}
</style>
